import { CodeSurfer } from 'mdx-deck-code-surfer';
import { Appear } from 'mdx-deck';
import codeTheme from 'prism-react-renderer/themes/vsDarkPlus';
import { ForCSharpProgrammers, CodeSurfHeader } from './deck-components';
export theme from './theme';

# TypeScript<ForCSharpProgrammers />

```notes
Introduce yourself
```

---

## TypeScript

<Appear>
  <p>Statically typed superset of JavaScript</p>
  <p>From Microsoft in 2012</p>
  <p>Familiar names such as Anders Hejlsberg</p>
</Appear>

```notes
- [QUESTION] How many people in here use TypeScript?
- [QUESTION] How many people have heard of TypeScript
- I assume you're all in favor of static typing
- You probably all have to write JavaScript with the same enthusiasm I write Java
- So I didn't frontload this talk trying to explain JavaScript's problems is or why types for it are a good idea
- [SLIDES] What TypeScript is
- We're going to talk about how it brings types to JavaScript, differences in type systems, how
to actually use it and where to get started

```

---

<CodeSurfer
  code={require("!raw-loader!./first-1.js")}
  theme={codeTheme}
/>

```notes
Imagine we have a JavaScript program
```

---

<CodeSurfer
  code={require("!raw-loader!./first-2.ts")}
  theme={codeTheme}
  steps={[
    { range: [1,10] },
    { tokens: { 1: [2,3] } },
    { range: [1,10] },
  ]}
/>

```notes
[STEP] I've introduced a type annotation
```

---

<CodeSurfer
  code={require("!raw-loader!./first-3.ts")}
  theme={codeTheme}
/>

```notes
Now that we've corrected our program, what exactly happens to it?

We give it to the TypeScript compiler, and it produces something like this
```

---

<CodeSurfer
  code={require("!raw-loader!./first-4.ts")}
  theme={codeTheme}
/>

```notes
So in other words, what we do is we annotate a normal JavaScript program with types

Mention type inference
```

---

## The TypeScript philosophy

<Appear>
  <p>TypeScript is not a new programming language</p>
  <p>Follows the JavaScript language standard and semantics</p>
  <p><code>5 + 'cat'</code> is allowed</p>
  <p>Does not have its own runtime</p>
</Appear>


```notes
Although it's often billed as a programming language, TypeScript's goal is not to 
change the semantics of JavaScript

Semantics: '5' + cat is allowed

TypeScript is a compiler that produces JavaScript

This focus is why it is the most popular "types for frontend code" we've seen so far

So now you know what TypeScript is, you're probably thinking you know how to use it.
```

---

## Differences between C# and TypeScript

TypeScript uses a *structural* type system

C# uses a *nominal* type system

```notes
En ingles, what does this mean?
```

---

<CodeSurfer
  code={require("!raw-loader!./structural.ts")}
  theme={codeTheme}
  steps={[
    { lines: [1, 2, 3] },
    { lines: [5,6] },
  ]}
/>

---

## TypeScript is unsound

```notes
[QUESTION] Why do you think TypeScript has an unsound structural type system?
```

---

<CodeSurfer
  code={require("!raw-loader!./anonymous-object.js")}
  theme={codeTheme}
  steps={[
    { lines: [1,2,3,4,5]},
    { lines: [7,8,9,10] },
    { range: [1, 10]}
  ]}
/>

```notes

```

---

<CodeSurfer
  code={require("!raw-loader!./anonymous-object.ts")}
  theme={codeTheme}
/>

```notes
I question the decision to call these interfaces
```

---

<CodeSurfer
  code={require("!raw-loader!./anonymous-object-2.ts")}
  theme={codeTheme}
/>

```notes
These are almost exactly equivalent
```

---

## Union and nullable types

<Appear>
  <p>Null was invented in 1965</p>
  <p>Called "the million dollar mistake"</p>
</Appear>

```notes
Null was actually invented in 1965
I know some of you guys were probably in the room that happened
but it's kind of odd to think about

[QUESTION] How many people are familiar with this in C#?
```

---

<CodeSurfer
  code={require("!raw-loader!./nullable-1.js")}
/>

---

<CodeSurfer
  code={require("!raw-loader!./nullable-2.ts")}
  steps={[
    { range: [1,10] },
    { tokens: { 1: [4,5,6,7,8,9] } },
    { tokens: { 2: [4,5,6,7] } },
    { lines: [2,3,4] },
  ]}
/>

```notes
[STEP 1]
I've added a type declaration
You may correctly read this as "string OR null"
[STEP 2]
This is a type guard
Type guards are conditionals that "prove" to the TS compiler that a value will have a type at runtime
Type guards narrow down types

[STEP 4]

This is valuable in typing JavaScript code, but it's also just more expressive


```

---

## And much more

<Appear>
  <p>Generics</p>
  <p>Enumerations</p>
  <p>Class visibility: private, public...</p>
  <p>Literal types</p>
  <p>Decorators</p>
  <p>Refactoring</p>
</Appear>

```notes
Generics, enums, visibility: you guys know these

Literal types: you can constrain the value of a string
```

---

## JavaScript interaction

```notes
- So far we've talked about how TypeScript helps model JavaScript code
- How do you use existing JavaScript
```

---

## Bindings

<Appear>
  <p>Hopefully first-party</p>
  <p>DefinitelyTyped</p>
  <code>npm install @types/mylibrary</code>
  <p>üôè</p>
  <p>Roll your own</p>
</Appear>

---

## Any

```notes
- Don't reach for this first
- You'll get in trouble with me at code review time
```

---

## The future is bright

<Appear>
  <p>Vue is being rewritten in TypeScript</p>
  <p>Over 5,000 JavaScript libraries</p>
  <p>TypeScript compiler gets 4,039,800 downloads a week</p>
</Appear>

```notes
A plurality of frameworks that people care about will be rewritten in TypeScript

Over 5,000 libraries bound and more are being written in TypeScript to start
```

---

## Where to go next?

<Appear>
  <p>typescriptlang.org</p>
  <p>TypeScript Playground</p>
  <p>TypeScript Handbook</p>
  <p>Visual Studio Code</p>
</Appear>

```notes
TypeScript playground

```

---

## Questions?

```notes
- What questions do you all have?
```
